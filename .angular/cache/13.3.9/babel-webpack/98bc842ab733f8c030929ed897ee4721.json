{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/ship.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction SearchComponent_select_19_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r5.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r5.name);\n  }\n}\n\nfunction SearchComponent_select_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"select\", 21);\n    i0.ɵɵlistener(\"change\", function SearchComponent_select_19_Template_select_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.changeTypeShip($event);\n    });\n    i0.ɵɵtemplate(1, SearchComponent_select_19_option_1_Template, 2, 2, \"option\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.types);\n  }\n}\n\nfunction SearchComponent_select_24_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r9.description);\n  }\n}\n\nfunction SearchComponent_select_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"select\", 21);\n    i0.ɵɵlistener(\"change\", function SearchComponent_select_24_Template_select_change_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.changeFeatureShip($event);\n    });\n    i0.ɵɵtemplate(1, SearchComponent_select_24_option_1_Template, 2, 2, \"option\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.feature);\n  }\n}\n\nfunction SearchComponent_tr_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ship_r12 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ship_r12.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ship_r12.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ship_r12.date_creation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ship_r12.date_destruction);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.types[ship_r12.id_type - 1].name);\n  }\n}\n\nexport let SearchComponent = /*#__PURE__*/(() => {\n  class SearchComponent {\n    constructor(shipService) {\n      this.shipService = shipService;\n      this.types = [];\n      this.saerch = [];\n      this.feature = [];\n      this.isFeature = false;\n      this.isType = false;\n      this.username = '';\n    }\n\n    ngOnInit() {\n      this.getTypes();\n      this.getFeatures();\n    }\n\n    getTypes() {\n      this.shipService.getTypes().subscribe(data => {\n        this.types = data.result;\n      });\n    }\n\n    getFeatures() {\n      this.shipService.findFeatures().subscribe(data => {\n        this.feature = data.result;\n        console.log(this.feature);\n      });\n    }\n\n    changeTypeSearch(e) {\n      this.rbSelected = e.target.id;\n    }\n\n    changeFeatureShip(e) {\n      this.FeatureSelected = e.target.value;\n    }\n\n    changeFeatureSearch(e) {\n      this.FeatureSelected = e.target.id;\n    }\n\n    changeTypeShip(e) {\n      this.TypeSelected = e.target.value;\n    }\n\n    submit(valueSearch) {\n      if (this.rbSelected === 'id_type') {\n        this.getShipByName(this.TypeSelected, this.rbSelected);\n      } else {\n        if (this.rbSelected === 'id_feature') {\n          this.findShipByNameInner(this.FeatureSelected);\n        } else {\n          this.getShipByName(valueSearch, this.rbSelected);\n        }\n      }\n    }\n\n    getShipByName(nameShip, nameTable) {\n      this.shipService.findShipByName(nameShip, nameTable).subscribe(data => {\n        this.saerch = data.result;\n        console.log(data.result);\n      });\n    }\n\n    findShipByNameInner(featureId) {\n      this.shipService.findShipByNameInner(featureId).subscribe(data => {\n        this.saerch = data.result;\n        console.log(data.result);\n      });\n    }\n\n  }\n\n  SearchComponent.ɵfac = function SearchComponent_Factory(t) {\n    return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.ShipService));\n  };\n\n  SearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SearchComponent,\n    selectors: [[\"app-search\"]],\n    decls: 45,\n    vars: 3,\n    consts: [[1, \"row\", \"d-flex\", \"justify-content-center\", \"mt-5\"], [1, \"col-md-10\"], [\"href\", \"#\", \"routerLink\", \"/ship/view\", 1, \"btn\", \"btn-primary\"], [1, \"card\", \"p-3\", \"py-4\"], [1, \"row\", \"g-3\", \"m-1\"], [1, \"d-flex\", \"ms-2\"], [1, \"form-check\", \"form-check-inline\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"name\", 1, \"form-check-input\", 3, \"change\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"date_creation\", 1, \"mx-2\", \"form-check-input\", 3, \"change\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"id_type\", 1, \"mx-2\", \"form-check-input\", 3, \"change\", \"click\"], [1, \"col-md-3\"], [\"class\", \"form-select\", 3, \"change\", 4, \"ngIf\"], [\"type\", \"radio\", \"name\", \"flexRadioDefault\", \"id\", \"id_feature\", 1, \"mx-2\", \"form-check-input\", 3, \"change\", \"click\"], [1, \"col-md-6\"], [\"type\", \"text\", \"id\", \"search\", \"name\", \"search\", \"placeholder\", \"Enter your search\", 1, \"form-control\"], [\"search\", \"\"], [1, \"btn\", \"btn-secondary\", \"btn-block\", 3, \"click\"], [1, \"w-75\", \"m-auto\", \"mt-4\"], [1, \"table\", \"table-bordered\", \"text-center\"], [1, \"\"], [4, \"ngFor\", \"ngForOf\"], [1, \"form-select\", 3, \"change\"], [\"selected\", \"\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"selected\", \"\", 3, \"value\"]],\n    template: function SearchComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r13 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n        i0.ɵɵtext(3, \"Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"b\");\n        i0.ɵɵtext(6, \"Select a search type\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"input\", 7);\n        i0.ɵɵlistener(\"change\", function SearchComponent_Template_input_change_10_listener($event) {\n          return ctx.changeTypeSearch($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(11, \" Name \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 6)(13, \"input\", 8);\n        i0.ɵɵlistener(\"change\", function SearchComponent_Template_input_change_13_listener($event) {\n          return ctx.changeTypeSearch($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(14, \" Date Creatcion \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 6)(16, \"input\", 9);\n        i0.ɵɵlistener(\"change\", function SearchComponent_Template_input_change_16_listener($event) {\n          return ctx.changeTypeSearch($event);\n        })(\"click\", function SearchComponent_Template_input_click_16_listener() {\n          return ctx.isType = true;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(17, \" Type Ship \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 10);\n        i0.ɵɵtemplate(19, SearchComponent_select_19_Template, 2, 1, \"select\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 6)(21, \"input\", 12);\n        i0.ɵɵlistener(\"change\", function SearchComponent_Template_input_change_21_listener($event) {\n          return ctx.changeTypeSearch($event);\n        })(\"click\", function SearchComponent_Template_input_click_21_listener() {\n          return ctx.isFeature = true;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(22, \" Feature \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 10);\n        i0.ɵɵtemplate(24, SearchComponent_select_24_Template, 2, 1, \"select\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\", 13);\n        i0.ɵɵelement(26, \"input\", 14, 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 10)(29, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function SearchComponent_Template_button_click_29_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r2 = i0.ɵɵreference(27);\n\n          return ctx.submit(_r2.value);\n        });\n        i0.ɵɵtext(30, \"Search Results\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(31, \"div\", 17)(32, \"table\", 18)(33, \"tr\", 19)(34, \"th\");\n        i0.ɵɵtext(35, \"ID\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"th\");\n        i0.ɵɵtext(37, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"th\");\n        i0.ɵɵtext(39, \"Date Creation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"th\");\n        i0.ɵɵtext(41, \"Date Destruction\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"th\");\n        i0.ɵɵtext(43, \"Type\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(44, SearchComponent_tr_44_Template, 11, 5, \"tr\", 20);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngIf\", ctx.isType);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.isFeature);\n        i0.ɵɵadvance(20);\n        i0.ɵɵproperty(\"ngForOf\", ctx.saerch);\n      }\n    },\n    directives: [i2.RouterLinkWithHref, i3.NgIf, i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption],\n    styles: [\"\"]\n  });\n  return SearchComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}